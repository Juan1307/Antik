{"version":3,"file":"TheContact.65a6f842.js","sources":["../../src/pages/TheContact.tsx"],"sourcesContent":["import { useEffect, useState } from 'preact/hooks';\r\n\r\nimport SVGComponent from './../assets/Assets';\r\nimport { TitleContent, BtnSocial } from './../components/require/MiniReusable';\r\n\r\nconst focusIdElement = (id) => setTimeout(() => document.getElementById(id).focus(), 150);\r\nconst MessageError = ({msg}) => <small class=\"text-red-500\">{msg}</small>;\r\n\r\nconst patterns = { user: /^[a-zA-Z\\s]{2,30}$/, \r\n                   email: /^\\S+@\\S+\\.\\S+$/,\r\n                   description: /^[a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ.+_#/()?-\\s]{2,120}$/ };\r\n\r\nexport default function TheContact() {\r\n\r\n  const [ valid, setValid ] = useState([false, false, false]);\r\n  \r\n  const valUser = valid[0]; \r\n  const valMail = valid[1]; \r\n  const valDesc = valid[2];\r\n\r\n  const sendFormEmail = (data) => {\r\n    const { user, email, description } = data\r\n    //buil body message\r\n    const staticEmail = 'antoni_cabanillas_2000@hotmail.com';\r\n    const staticSubject = `OFERTA LABORAL - ${user}`;\r\n    const staticMessage = `${description} - ${email}`;\r\n\r\n    window.open(`mailto:${staticEmail}?subject=${staticSubject}&body=${staticMessage}`,'_self');\r\n  };\r\n\r\n  const showSetErrorForm = (key?: number) => {\r\n    setValid((prev) => {\r\n      const currentState = Number.isInteger(key) ? prev.map((ele, idx) => (idx === key)) :\r\n                                                   prev.map(() => false);\r\n      return currentState;\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm = (evt) => {\r\n    evt.preventDefault();\r\n    \r\n    const form = new FormData(evt.target);\r\n    const formValues = Object.fromEntries(form);\r\n    const formKeys = Object.keys(formValues);\r\n\r\n    const currentKey = formKeys.findIndex((key) => !(patterns[key].test(formValues[key]) ));\r\n\r\n    if(currentKey >= 0) {\r\n      showSetErrorForm(currentKey);\r\n      return focusIdElement(formKeys[currentKey]);\r\n    }\r\n    // send email an reset\r\n    showSetErrorForm();\r\n    sendFormEmail(formValues);\r\n  };\r\n\r\n  useEffect(() => focusIdElement('user'), []);\r\n\r\n  return <div className=\"h-full\">\r\n            <TitleContent title=\"CONTACTO\" />\r\n            <div className=\"mt-3 sm:mt-0 grid items-center grid-cols-1 sm:grid-cols-8 sm:gap-2 lg:gap-5\">\r\n              <form className=\"sm:col-span-8 md:col-span-5 xl:col-span-4 mx-1\" onSubmit={handleSubmitForm}>\r\n\r\n                <p className=\"text-justify mb-2\">Recuerda que también tienes mis redes, si prefieres otra alternativa.</p>\r\n                <div className=\"flex sm:hidden justify-center\">\r\n                  <div className=\"flex space-x-2\">\r\n                    <BtnSocial />\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 sm:gap-3\">\r\n                  <div className=\"contact-input-group\">\r\n                    <label htmlFor=\"user\">Usuario/entidad</label>\r\n                    <input type=\"text\" name=\"user\" id=\"user\" className=\"input-form\" placeholder=\"Ingrese usuario/entidad\" maxlength=\"30\" />\r\n                    { valUser && <MessageError msg=\"Oops datos inválidos.\" /> }\r\n                  </div>\r\n                  <div className=\"contact-input-group\">\r\n                    <label htmlFor=\"email\">E-mail</label>\r\n                    <input type=\"text\" name=\"email\" id=\"email\" className=\"input-form\" placeholder=\"Ingrese e-mail\" maxlength=\"70\" />\r\n                    { valMail && <MessageError msg=\"Oops e-mail inválido.\" /> }\r\n                  </div>\r\n                </div>\r\n                <div className=\"contact-input-group\">\r\n                  <label htmlFor=\"description\">Mensaje</label>\r\n                  <textarea cols=\"15\" name=\"description\" id=\"description\" className=\"input-form\" placeholder=\"Ingrese Mensaje\" maxlength=\"120\" />\r\n                    { valDesc && <MessageError msg=\"Oops mensaje inválido.\" /> }\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"mt-2 py-1 btn w-1/2 btn-filled\">\r\n                  <i class=\"ri-send-plane-2-line align-middle mr-1\" />\r\n                  <span>Enviar</span>\r\n                </button>\r\n              </form>\r\n              <picture className=\"contact-img inline-flex sm:hidden md:inline-flex md:col-span-3 xl:col-span-4 overflow-hidden\">\r\n                <SVGComponent name=\"MailSVG\" />\r\n              </picture>\r\n            </div>\r\n         </div>\r\n}"],"names":["focusIdElement","id","setTimeout","document","getElementById","focus","MessageError","msg","_jsx","patterns","user","email","description","valid","setValid","useState","valUser","valMail","valDesc","sendFormEmail","data","staticEmail","staticSubject","staticMessage","window","open","showSetErrorForm","key","prev","Number","isInteger","map","ele","idx","handleSubmitForm","evt","preventDefault","form","FormData","target","formValues","Object","fromEntries","formKeys","keys","currentKey","findIndex","test","useEffect","_jsxs"],"mappings":"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"}